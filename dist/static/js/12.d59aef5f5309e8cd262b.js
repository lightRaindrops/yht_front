webpackJsonp([12],{CIGQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Fd2+"),n={props:{mobile:{type:Boolean,default:!1}},data:function(){return{num:10,refreshing:!1,loading:!1,text:"List",limit:10,pageNow:1,list:[],loadAll:!1,btnDisable:!1}},methods:{refresh:function(){var t=this;this.refreshing=!0,this.$refs.container.scrollTop=0,setTimeout(function(){t.refreshing=!1},2e3)},load:function(){this.loading=!0,++this.pageNow,this.initList()},initList:function(){var t=this;this.$store.dispatch("getCustomer",{limit:this.limit,offset:this.offset}).then(function(){t.loading=!1;var e=t.$store.state.user.customerList.data;for(var i in t.loadAll=t.$store.state.user.customerList.loadAll,e)t.list.push(e[i])})},receiveCustomer:function(t,e){var i=this;this.btnDisable=!0,1==this.mobile?this.$dialog.confirm({message:"认领客户 <"+e+">"}).then(function(){i.receive(t)}).catch(function(){i.btnDisable=!1}):this.$confirm("认领客户 <"+e+">","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.receive(t)}).catch(function(){i.btnDisable=!1})},receive:function(t){var e=this;this.$store.dispatch("receiveCustomer",{id:t}).then(function(){"success"==e.$store.state.user.receiveStatus.status?1==e.mobile?s.h.success("操作成功"):e.$notify.success({title:"操作成功",message:"请到 <我的客户> 中查看信息"}):1==e.mobile?s.h.fail("操作失败"):e.$notify.error({title:"操作失败",message:e.$store.state.user.receiveStatus.error}),e.list=[],e.initList(),e.btnDisable=!1})}},created:function(){this.initList()},computed:{offset:function(){return(this.pageNow-1)*this.limit}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wapper"},[i("mu-container",{ref:"container",staticClass:"loadmore-content",class:{"loadmore-content-pc":!t.mobile}},[i("mu-load-more",{attrs:{refreshing:t.refreshing,loading:t.loading,"loaded-all":t.loadAll},on:{refresh:t.refresh,load:t.load}},[i("mu-list",{attrs:{textline:"three-line"}},[t._l(t.list,function(e){return[i("mu-list-item",{attrs:{avatar:"",ripple:!1,button:""}},[i("mu-list-item-content",[i("mu-list-item-title",[t._v(t._s(e.name))]),t._v(" "),i("mu-list-item-sub-title",[i("span",{staticStyle:{color:"rgba(0, 0, 0, .87)"}},[t._v(t._s(e.province)+" "+t._s(e.city)+" "+t._s(e.area))]),i("br"),t._v("\n\t\t\t\t          需求："+t._s(e.demand)+"\n\t\t\t\t        ")])],1),t._v(" "),i("mu-list-item-action",{style:{position:"relative",overflow:"hidden"}},[i("mu-button",{attrs:{disabled:t.btnDisable,small:"","full-width":"",color:"success"},on:{click:function(i){t.receiveCustomer(e.id,e.name)}}},[t._v("\n\t\t\t\t\t    \t我要领取\n\t\t\t\t\t    ")])],1)],1),t._v(" "),i("mu-divider")]})],2),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.loadAll,expression:"loadAll"}],style:{"margin-bottom":"20px"}},[t._v("已加载完毕, 共 "+t._s(t.list.length)+" 条记录")])],1)],1)],1)},staticRenderFns:[]};var r=i("VU/8")(n,o,!1,function(t){i("dOLH")},"data-v-a5a594a6",null);e.default=r.exports},dOLH:function(t,e){}});